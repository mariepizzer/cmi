{"version":3,"file":"js/custom/chat.js","mappings":";;;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0DAA0D;AAChE,MAAM,sDAAsD;AAC5D,MAAM,iDAAiD;AACvD,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://metronic/../assets/src/js/custom/chat.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Class definition\r\nvar KTAppChat = function () {\r\n\t// Private functions\r\n\tvar handlerSend = function (messengerElement) {\r\n\t\tif (!messengerElement) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Handle send\r\n\t\tKTUtil.on(messengerElement, '[data-kt-element=\"input\"]', 'keydown', function (e) {\r\n\t\t\tif (e.keyCode == 13) {\r\n\t\t\t\thandlerMessaging(messengerElement);\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tKTUtil.on(messengerElement, '[data-kt-element=\"send\"]', 'click', function (e) {\r\n\t\t\thandlerMessaging(messengerElement);\r\n\t\t});\r\n\t}\r\n\tvar handlerMessaging = function (element) {\r\n\t\tvar messages = element.querySelector('[data-kt-element=\"messages\"]');\r\n\t\tvar input = element.querySelector('[data-kt-element=\"input\"]');\r\n\r\n\t\tlet outgoingMessageObj = {\r\n\t\t\tname: \"Alex\",\r\n\t\t\ttime: \"Just now\"\r\n\t\t}\r\n\t\tsendMessage(messages, input, outgoingMessageObj);\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\tlet incomingMessageObj = {\r\n\t\t\t\ttext: \"Magic reply rest here!\",\r\n\t\t\t\tname: \"Jaime\",\r\n\t\t\t\ttime: \"Just now\"\r\n\t\t\t}\r\n\t\t\treceiveMessage(messages, incomingMessageObj);\r\n\t\t}, 500);\r\n\t}\r\n\r\n\tvar sendMessage = function (messages, input, messageObj) {\r\n\t\tif (input.value.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar messageOutTemplate = messages.querySelector('[data-kt-element=\"template-out\"]');\r\n\t\tvar messageTemplate = messageOutTemplate.cloneNode(true);\r\n\t\tmessageTemplate.classList.remove('d-none');\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"message-text\"]').innerText = input.value;\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"out-contact-avatar\"]').innerText = messageObj.name.charAt(0);\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"out-contact-name\"]').innerText = messageObj.name;\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"out-time\"]').innerText = messageObj.time;\r\n\t\tinput.value = '';\r\n\t\tmessages.appendChild(messageTemplate);\r\n\t\tmessages.scrollTop = messages.scrollHeight;\r\n\t}\r\n\r\n\tvar receiveMessage = function (messages, messageObj) {\r\n\t\tvar messageInTemplate = messages.querySelector('[data-kt-element=\"template-in\"]');\r\n\t\tvar messageTemplate = messageInTemplate.cloneNode(true);\r\n\t\tmessageTemplate.classList.remove('d-none');\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"message-text\"]').innerText = messageObj.text;\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"in-contact-avatar\"]').innerText = messageObj.name.charAt(0);\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"in-contact-name\"]').innerText = messageObj.name;\r\n\t\tmessageTemplate.querySelector('[data-kt-element=\"in-time\"]').innerText = messageObj.time;\r\n\t\tmessages.appendChild(messageTemplate);\r\n\t\tmessages.scrollTop = messages.scrollHeight;\r\n\t}\r\n\r\n\tvar handleContact = function (element, contactData) {\r\n\t\tvar contacts = element.querySelector('[data-kt-element=\"contacts\"]');\r\n\t\tvar contactsTemplate = contacts.querySelector('[data-kt-element=\"contact-template\"]');\r\n\t\tvar contact = contactsTemplate.cloneNode(true);\r\n\t\tcontact.classList.remove('d-none');\r\n\t\tcontact.querySelector('[data-kt-element=\"contact-avatar\"]').innerText = contactData.name.charAt(0);\r\n\t\tcontact.querySelector('[data-kt-element=\"contact-email\"]').innerText = contactData.email;\r\n\t\tcontact.querySelector('[data-kt-element=\"contact-name\"]').innerText = contactData.name;\r\n\t\tcontacts.appendChild(contact);\r\n\t\tcontacts.scrollTop = contacts.scrollHeight;\r\n\t}\r\n\r\n\tvar handleAvatar = function (avatarsElement, contactData) {\r\n\t\tvar avatars = avatarsElement.querySelector('[data-kt-element=\"contact-avatars\"]');\r\n\t\tvar avatarsTemplate = avatars.querySelector('[data-kt-element=\"contact-avatar-template\"]');\r\n\t\tvar avatar = avatarsTemplate.cloneNode(true);\r\n\t\tavatar.classList.remove('d-none');\r\n\t\tavatar.querySelector('[data-kt-element=\"contact-initial\"]').innerText = contactData.name.charAt(0);\r\n\t\tavatars.appendChild(avatar);\r\n\t\tavatars.scrollTop = avatars.scrollHeight;\r\n\t}\r\n\r\n\t// Public methods\r\n\treturn {\r\n\t\tinit: function (messengerElement, contactsElement, avatarsElement) {\r\n\t\t\tvar contactsData = [\r\n\t\t\t\t{ id: 18, name: \"Freddy\", email: \"freddy@cmiconsulting.pe\" },\r\n\t\t\t\t{ id: 28, name: \"Alex\", email: \"Alex@cmiconsulting.pe\" },\r\n\t\t\t\t{ id: 15, name: \"Jaime\", email: \"jaime@gmail.com\" },\r\n\t\t\t\t{ id: 20, name: \"Marie\", email: \"marie@gmail.com\" }\r\n\t\t\t];\r\n\t\t\thandlerSend(messengerElement);\r\n\t\t\tcontactsData.map(function (contactData) {\r\n\t\t\t\thandleContact(contactsElement, contactData);\r\n\t\t\t\thandleAvatar(avatarsElement, contactData);\r\n\t\t\t})\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// On document ready\r\nKTUtil.onDOMContentLoaded(function () {\r\n\t// Init inline chat messenger\r\n\tKTAppChat.init(document.querySelector('#kt_chat_messenger'), document.querySelector(\"#kt_chat_contacts_body\"), document.querySelector(\"#kt_chat_messenger_header\") );\r\n});\r\n"],"names":[],"sourceRoot":""}